## 洪泛攻击

关于网络安全方面的话题会专门放到一篇文章中去讲，因为洪泛攻击 (SYN Flood) 涉及到了 TCP 相关知识，所以这里提前聊一下。

在三次握手过程中，服务器发送 SYN-ACK 之后，收到客户端的 ACK 之前的 TCP 连接称为半连接(half-open connect)。此时服务器处于 SYN_RCVD 状态。当收到 ACK 后，服务器才能转入 ESTABLISHED 状态。

所以在短时间内伪造大量的不存在的 IP，向服务器不断发送 SYN 包，由于源地址是不存在的，服务器需要不断的向客户端重新发送 `SYN/ACK` 直到超时。这些伪造的 SYN 包将长时间占用未连接队列，而正常的 SYN 被丢弃。因此洪泛攻击会导致服务器运行缓慢，严重会引起网络堵塞甚至系统瘫痪。洪泛攻击是一种典型的 DoS/DDoS 攻击。当你的服务器出现大量的 `半连接`，几乎就可以认为遭受到了洪泛攻击。

如何预防洪泛攻击呢？完全阻止是不可能的，毕竟敌人在暗处，服务器在明处。网上介绍了几种方式：**缩短 SYN 超时时间**，**增加最大半连接数**，**过滤网关防护**，**SYN cookies** 等。不过我认为这些方法都没什么卵用，还是老老实实买 DDoS 高防吧。
